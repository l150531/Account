<!DOCTYPE html>
<html lang='en'>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>通用票据打印</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/MultMenu.css" rel="stylesheet">
	<link href="css/bootstrap-select.min.css" rel="stylesheet">
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
	<style type="text/css">
		#hidden_event1{
		  .STYLE1 {font-size: 12px}
		}
		#hidden_event2{
		  display:none;
		}
		#hidden_event3{
      display:none;
		}
		.tips { color:#f00; font-size:25px; }					
	</style>  

</head>
<body>
    <div id="app">
        <!--根实例下放四个组件，一个组件用来填写进账单，另一个组件填写普通电汇类，
        第三个组件用来填写出票人的全称，账号和银行；
        第四个组件用来填写收票人的全称，账号和银行；    
        第三和第四个组件的数据需要保存下来，在第一和第二组件可以选择
        -->
       <!--
        <input type="text" v-model="message"><br>
        {{ message }}<br>
        <child></child>
      -->
      <center>
        <input name="button" type="button" id="click_event1" value="当前进账单/特转" class="btn btn-primary"/>
        <input name="button" type="button" id="click_event3" value="普通电汇" class="btn btn-primary"/>      
        <input name="button" type="button" id="click_event2" value="单据参数设置" class="btn btn-primary"/>      
      </center>
    
      <div id="hidden_event1">
        <Bill></Bill>
      </div>
        
      <div id="hidden_event2">
        <Set></Set>
      </div>      
      <div id="hidden_event3">
        <Normal></Normal>
      </div>      
       
      <!--进账单组件，Bill组件的HTML代码要写在index.html中的HTML中-->
      <script type="text/x-template" id="Bill-Menu">        
        <div class="col-md-12 table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <th colspan="10" style='vertical-align: middle;text-align: center;'><h3>当前进账单/特转</h3>
            </th>
            
              <tr>
                <th colspan="5" style='vertical-align: middle;text-align: right;'>日期:</th>
                <th>
                  <div class='input-group date' id='BBRQ'>  
                    <input type="text" name="BBRQ" class="form-control" size="11" readonly> 
                    <span class="input-group-addon">  
                    <span class="glyphicon glyphicon-calendar"></span>  
                    </span>  
                    </div> 
                </th> 
              </tr> 
              <tbody>
                  <tr>
                      <td colspan="3" style='vertical-align: middle;text-align: center;'>拼音缩写:</td>
                      <td colspan="2" style='vertical-align: middle;text-align: left;'><input type="text" name="pinyin_out" class="form-control"/>                    
                      </td>
                    
                      <td colspan="3" style='vertical-align: middle;text-align: center;'>拼音缩写:</td>
                      <td colspan="2" style='vertical-align: middle;text-align: left;'><input type="text" name="pinyin_in" class="form-control"/>
                      </td>                                       
                  </tr>
                  <tr>
                    <td style='vertical-align: middle;text-align: right;'>出票人</td>
                    <td style='vertical-align: middle;text-align: right;'>全称</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'>
                      <div class="form-group">
                        <select name="Out_Name" id="Out_Name" class="form-control selectpicker">
                        <option value="==请选择==">==请选择==</option>		
                        </select>
                      </div>
                    </td>
                    <td style='vertical-align: middle;text-align: center;'>收票人</td>
                    <td style='vertical-align: middle;text-align: right;'>全称</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                    <td style='vertical-align: middle;text-align: right;'>出票人</td>
                    <td style='vertical-align: middle;text-align: right;'>账号</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>收票人</td>
                    <td style='vertical-align: middle;text-align: right;'>账号</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                    <td style='vertical-align: middle;text-align: right;'>出票人</td>
                    <td style='vertical-align: middle;text-align: right;'>银行</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>收票人</td>
                    <td style='vertical-align: middle;text-align: right;'>银行</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                    <td style='vertical-align: middle;text-align: right;'>出票人</td>
                    <td style='vertical-align: middle;text-align: right;'>金额</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: right;'>票据种类</td>
                    <td>
                      <div class="form-group">
                        <select name="BillSpec" class="form-control selectpicker">
                        <option selected="selected" values="==请选择==">==请选择==</option>
                        <option value="转账支票">转账支票</option>
                        <option value="银行汇票">银行汇票</option>
                        <option value="银行本票">银行本票</option>
                        <option value="承兑汇票">承兑汇票</option>                      
                        </select>
                      </div>                  
                    </td>
                    <td style='vertical-align: middle;text-align: center;'>收票人</td>
                    <td style='vertical-align: middle;text-align: right;'>票据张数</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: right;'>票据号码</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>                
                  </tr>
                  <tr>
                    <td style='vertical-align: middle;text-align: right;'>出票人</td>
                    <td style='vertical-align: middle;text-align: right;'>用途</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>收票人</td>
                    <td style='vertical-align: middle;text-align: right;'>附加信息</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: right;'>支付密码</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>                  
                  </tr>                                                
        
              </tbody>
              </tfoot>
                  <tr>
                  <td height='50' style='vertical-align: middle;text-align: left;'><input type="submit" class="btn btn-primary" name="Submit" value="打 印" /></td>
                  <td height='50' colspan="10" style='vertical-align: middle;text-align: right;'><input type="submit" class="btn btn-primary" name="Submit" value="打 印 设 置" /></td>                
                </tr> 
              </tfoot>
        </table>
      </div>  
      </script>

      <!--普通电汇组件-->
      <script type="text/x-template" id="Normal-Menu">        
        <div class="col-md-12 table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <th colspan="22" style='vertical-align: middle;text-align: center;'><h3>普通电汇</h3>
            </th>
            
              <tr>
                <th colspan="9" style='vertical-align: middle;text-align: right;'>委托日期:</th>
                <th>
                  <div class='input-group date' id='teledate'>  
                    <input type="text" name="BBRQ" class="form-control" size="11" readonly> 
                    <span class="input-group-addon">  
                    <span class="glyphicon glyphicon-calendar"></span>  
                    </span>  
                    </div> 
                </th> 
              </tr> 
              <tbody>
                  <tr>
                      <td colspan="10" style='vertical-align: middle;text-align: left;'>
                        <div class="checkbox">
                          <label class="checkbox-inline">
                            <input type="checkbox" value="普通" >普通 
                          </label>
                          <label class="checkbox-inline">
                            <input type="checkbox" value="加急" >加急
                          </label>
                        </div>
                      </td>
                    
                      <td colspan="4" style='vertical-align: middle;text-align: center;'>拼音缩写:</td>
                      <td colspan="6" style='vertical-align: middle;text-align: left;'><input type="text" name="pinyin_in" class="form-control"/>
                      </td>                                       
                  </tr>
                  <tr>
                    <td colspan="3" rowspan="6" style='vertical-align: middle;text-align: center;'>汇款人</td>
                    <td style='vertical-align: middle;text-align: right;'>全称</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td colspan="3" rowspan="6" style='vertical-align: middle;text-align: center;'>收款人</td>
                    <td style='vertical-align: middle;text-align: right;'>全称</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                    <!--<td style='vertical-align: middle;text-align: right;'>汇款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>账号</td>
                    <td colspan="6" vstyle='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <!--<td style='vertical-align: middle;text-align: center;'>收款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>账号</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                   <!--<td style='vertical-align: middle;text-align: right;'>汇款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>地点</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>省</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>市/县</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>区</td>
                   
                    <td style='vertical-align: middle;text-align: right;'>地点</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>省</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>市/县</td>
                    <td style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: center;'>区</td>
                  </tr>
                  <tr>
                    <!--<td style='vertical-align: middle;text-align: right;'>汇款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>银行</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <!--td style='vertical-align: middle;text-align: center;'>收款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>银行</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                    <!--<td style='vertical-align: middle;text-align: right;'>汇款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>金额</td>
                    <td colspan="3" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <td style='vertical-align: middle;text-align: right;'>票据号码</td>
                    <td colspan="2">
                      <input type="text" name="pinyin_in" class="form-control"/>                 
                    </td>
                    <!--<td style='vertical-align: middle;text-align: center;'>收款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>支付密码</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>
                  <tr>
                   <!--<td style='vertical-align: middle;text-align: right;'>汇款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>用途</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                    <!--<td style='vertical-align: middle;text-align: center;'>收款人</td>-->
                    <td style='vertical-align: middle;text-align: right;'>附加信息</td>
                    <td colspan="6" style='vertical-align: middle;text-align: right;'><input type="text" name="pinyin_in" class="form-control"/></td>
                  </tr>                                                
        
              </tbody>
              </tfoot>
                  <tr>
                  <td height='50' style='vertical-align: middle;text-align: left;'><input type="submit" class="btn btn-primary" name="Submit" value="打 印" /></td>
                  <td height='50' colspan="20" style='vertical-align: middle;text-align: right;'><input type="submit" class="btn btn-primary" name="Submit" value="打 印 设 置" /></td>                
                </tr> 
              </tfoot>
        </table>
      </div>  
      </script>
      <!--设置组件-->
         
      <script type="text/x-template" id="Set-Menu">
        <div class="col-md-12 table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <th colspan="12" style='vertical-align: middle;text-align: center;'><h3>进账单/特转参数设置</h3>
            </th>  
            <tbody>
                <tr>
                  <td rowspan="4" style='vertical-align: middle;text-align: right;'>出票人</td>
                  <td style='vertical-align: middle;text-align: right;'>全称</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="All_Name_Out" id="All_Name_Out" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>                  
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="All_Name_Out_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="All_Name_Out_Delete">删除</button>
                    </div>
                  </td>
                  <td rowspan="4" style='vertical-align: middle;text-align: center;'>收票人</td>
                  <td style='vertical-align: middle;text-align: right;'>全称</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="All_Name_In" id="All_Name_In" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="All_Name_In_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="All_Name_In_Delete">删除</button>
                    </div>
                  </td>
                </tr>
                <tr>
                  <!--<td style='vertical-align: middle;text-align: right;'>出票人</td>-->
                  <td style='vertical-align: middle;text-align: right;'>账号</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Accounted_Out" id="Accounted_Out" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Accounted_Out_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Accounted_Out_delete">删除</button>
                    </div>
                  </td>

                  <!--<td style='vertical-align: middle;text-align: center;'>收票人</td>-->
                  <td style='vertical-align: middle;text-align: right;'>账号</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Accounted_In" id="Accounted_In" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Accounted_In_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Accounted_In_Delete">删除</button>
                    </div>                  
                  </td>
                </tr>
                <tr>
                  <!--<td style='vertical-align: middle;text-align: right;'>出票人</td>-->
                  <td style='vertical-align: middle;text-align: right;'>银行</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Bank_Out" id="Bank_Out" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Bank_Out_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Bank_Out_Delete">删除</button>
                    </div>                  
                  </td>
                  <!--<td style='vertical-align: middle;text-align: center;'>收票人</td>-->
                  <td style='vertical-align: middle;text-align: right;'>银行</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Bank_In" id="Bank_In" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Bank_In_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Bank_In_Delete">删除</button>
                    </div>                  
                  </td>
                </tr>
                <tr>
                  <!--<td style='vertical-align: middle;text-align: right;'>出票人</td>-->
                  <td style='vertical-align: middle;text-align: right;'>用途</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Use_Out" id="Use_Out" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Use_Out_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Use_Out_Delete">删除</button>
                    </div>                  
                  </td>
                  <td style='vertical-align: middle;text-align: right;'>附加信息</td>
                  <td colspan="3" style='vertical-align: middle;text-align: right;'>
                    <input type="text" name="Add_Info" id="Add_Info" class="form-control"/>
                  </td>
                  <td style='vertical-align: middle;text-align: left;'>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary" id="Add_Info_Add">添加</button>
                      <button type="button" class="btn btn-danger" id="Add_Info_Delete">删除</button>
                    </div>                  
                  </td>
                </tr>                
            </tbody>
        </table>
      </div>     
      </script>
      </div>

<!-- <script src="f:/Git/Vue/vue/dist/vue.min.js"></script>  -->
<script src="vue.min.js"></script>
<script src="Bill.js"></script>
<script src="Set.js"></script>
<script src="Normal.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>	
<script src="js/bootstrap-select.min.js"></script>
<script src="js/defaults-zh_CN.min.js"></script>
<script src="js/bootstrap-datetimepicker.min.js"></script>
<script src="js/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="js/site.js"></script>
<script src="json2.js"></script>
<script src="Localstorage.js"></script>
<script type="text/javascript">
//创建或打开名称为products，版本为1.0,描述为产品数据库，10M大小的数据库
var db = openDatabase("products", 1.0, "票据数据库", 1024 * 1024 * 10, function() {
        console.log("创建数据库完成");
    });
new Vue({
    el:"#app",
    data:{
        message:"Hi!"
    }
});
$(function() {		
			$('#BBRQ').datetimepicker({				
				language:  'zh-CN',
				autoclose: 1,
				format:'yyyy-mm-dd',
				startView: 'decade',
				minView: 'month',
				todayBtn:'true',
				showOnFocus: 'true',
				keyboardNavigation:'true',
				todayHighlight: 'true'	
										
      });
      $('#teledate').datetimepicker({				
				language:  'zh-CN',
				autoclose: 1,
				format:'yyyy-mm-dd',
				startView: 'decade',
				minView: 'month',
				todayBtn:'true',
				showOnFocus: 'true',
				keyboardNavigation:'true',
				todayHighlight: 'true'	
										
      }); 
      $('#click_event1').click(function(){
		//if($('#hidden_event').is(':hidden')){
		  if($("#hidden_event1").css("display")=="none"){
				$('#hidden_event1').show();
        $('#hidden_event2').hide();
        $('#hidden_event3').hide();
      }
      db.transaction(function(tx) {  
            tx.executeSql(
                "select All_Name_Out from Bill",[],
                function(tx, result) {
                    for (var i=0;i<result.rows.length;i++) {
                        if(result.rows.item(i).All_Name_Out != null){
                          $("#Out_Name.selectpicker").append("<option value='"+result.rows.item(i).All_Name_Out+"'>"+result.rows.item(i).All_Name_Out+"</option>");
                        }
                        else{

                        }
                      }
                      $("#Out_Name").selectpicker('refresh');
                },
                function() {
                    alert('删除附加信息失败!');
            });                                         
        });
		});
		$('#click_event2').click(function(){
		  if($("#hidden_event2").css("display")=="none"){
		//if($('#hidden_event1').is(':hidden')){
		  $('#hidden_event2').show();
      $('#hidden_event1').hide();
      $('#hidden_event3').hide();
		  }
    });
		$('#click_event3').click(function(){
		  if($("#hidden_event3").css("display")=="none"){
		//if($('#hidden_event1').is(':hidden')){
		  $('#hidden_event3').show();
      $('#hidden_event1').hide();
      $('#hidden_event2').hide();
		  }
    });     
    db.transaction(function(tx) {      
        tx.executeSql(
            "create table IF not EXISTS Bill(id integer primary key autoincrement,All_Name_Out text,Accounted_Out text,Bank_out text,Use text,All_Name_In text,Accounted_In text,Bank_In text,Add_Info text)", [],
            function(tx, result) {
                console.log('创建出票人表成功');
            },
            function(tx, error) {
                console.log('创建出票人表失败' + error.message);
        });

/*        
        tx.executeSql(
            "drop table Bill", [],
            function(tx, result) {
                console.log('删除表成功');
            },
            function(tx, error) {
                console.log('删除表失败' + error.message);
        });
*/        
    });  
    db.transaction(function(tx) {  
        tx.executeSql(
            "select All_Name_Out from Bill",[],
            function(tx, result) {
                for (var i=0;i<result.rows.length;i++) {
                    if(result.rows.item(i).All_Name_Out != null){
                      $("#Out_Name.selectpicker").append("<option value='"+result.rows.item(i).All_Name_Out+"'>"+result.rows.item(i).All_Name_Out+"</option>");
                    }
                    else{

                    }
                  }
                  $("#Out_Name").selectpicker('refresh');
            },
            function() {
                alert('删除附加信息失败!');
        });                                         
    });

});      
</script>

</body>
</html>
